[gd_scene load_steps=10 format=3 uid="uid://dlwp6bfm30mgv"]

[ext_resource type="MeshLibrary" uid="uid://c2742gs1xmedj" path="res://Common/tiles.meshlib" id="1"]
[ext_resource type="PackedScene" uid="uid://dvximx2h0unss" path="res://Scenes/Player.tscn" id="2"]
[ext_resource type="Script" path="res://Scenes/Level.cs" id="3"]
[ext_resource type="PackedScene" path="res://Scenes/Actor.tscn" id="4"]
[ext_resource type="Texture2D" uid="uid://d2nerkw60oe7s" path="res://Common/guywalking.png" id="5_a0lsi"]

[sub_resource type="Environment" id="2"]
background_mode = 1
volumetric_fog_enabled = true

[sub_resource type="NavigationMesh" id="1"]
vertices = PackedVector3Array(-0.25, 2.5, -0.5, 5.5, 2.5, -0.5, 5.5, 2.5, -1.5, -1.5, 2.5, -1.5, -1.5, 2.5, 5.5, -0.5, 2.5, 5.5, -0.25, 2.5, -0.5, -1.5, 2.5, -1.5, 3.5, 0.5, 11.75, 5.25, 0.5, 11.5, 5.25, 0.5, 10.75, 3.5, 0.5, 10.5, 1.5, 0.5, 1.75, 7, 0.5, 1.5, 7.25, 0.5, 0.5, 0.75, 0.5, 0.75, 3.5, 0.5, 7.75, 5.5, 0.5, 7.5, 5.5, 0.5, 6.75, 1.5, 0.5, 6.5, 0.75, 0.5, 0.75, 0.5, 0.5, 14.25, 1.5, 0.5, 6.5, 1.5, 0.5, 1.75, 0.5, 0.5, 14.25, 3.5, 0.5, 14.25, 3.5, 0.5, 11.75, 3.5, 0.5, 10.5, 3.5, 0.5, 7.75, 1.5, 0.5, 6.5, 0.5, 0.5, 14.25, 3.5, 0.5, 11.75, 3.5, 0.5, 10.5, 1.5, 0.5, 6.5, 5.5, 0.5, 6.75, 5.5, 0.5, 7.5, 6.75, 0.5, 7.75, 8.25, 0.5, 6.75, 8.75, 0.5, 6.25, 6.75, 0.5, 11.75, 6.75, 0.5, 14.25, 5.25, 0.5, 10.75, 5.25, 0.5, 11.5, 6.75, 0.5, 11.75, 6.75, 0.5, 10.25, 19.5, 0.5, 0.5, 8.75, 0.5, 1.75, 8.75, 0.5, 6.25, 7.25, 0.5, 0.5, 7, 0.5, 1.5, 8.75, 0.5, 1.75, 19.5, 0.5, 0.5, 8.25, 0.5, 6.75, 6.75, 0.5, 7.75, 6.75, 0.5, 10.25, 8.75, 0.5, 6.25, 8.25, 0.5, 6.75, 6.75, 0.5, 10.25, 6.75, 0.5, 11.75, 8.75, 0.5, 6.25, 6.75, 0.5, 14.25, 6.75, 0.5, 19.5, 19.5, 0.5, 19.5, 19.5, 0.5, 0.5, 2.5, 2.5, 2.5, 2.5, 2.5, 5.75, 7.75, 2.5, 5.75, 7.75, 2.5, 2.5, 4.5, 2.5, 8.5, 4.5, 2.5, 9.75, 5.75, 2.5, 9.75, 5.75, 2.5, 8.5, 4.5, 2.5, 12.5, 4.5, 2.5, 13.75, 5.75, 2.5, 13.75, 5.75, 2.5, 12.5, 3.75, 0.5, 14.75, 3.5, 0.5, 14.25, 0.5, 0.5, 14.25, 6.75, 0.5, 19.5, 6.75, 0.5, 14.25, 6.25, 0.5, 14.75, 6.75, 0.5, 19.5, 6.25, 0.5, 14.75, 3.75, 0.5, 14.75, 3.75, 0.5, 14.75, 0.5, 0.5, 14.25, 0.5, 0.5, 19.5, 6.75, 0.5, 19.5)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(5, 4, 6), PackedInt32Array(6, 4, 7), PackedInt32Array(9, 8, 10), PackedInt32Array(10, 8, 11), PackedInt32Array(13, 12, 14), PackedInt32Array(14, 12, 15), PackedInt32Array(17, 16, 18), PackedInt32Array(18, 16, 19), PackedInt32Array(23, 22, 20), PackedInt32Array(20, 22, 21), PackedInt32Array(26, 25, 24), PackedInt32Array(29, 28, 27), PackedInt32Array(31, 30, 32), PackedInt32Array(32, 30, 33), PackedInt32Array(35, 34, 36), PackedInt32Array(36, 34, 37), PackedInt32Array(40, 39, 38), PackedInt32Array(42, 41, 43), PackedInt32Array(43, 41, 44), PackedInt32Array(47, 46, 45), PackedInt32Array(49, 48, 50), PackedInt32Array(50, 48, 51), PackedInt32Array(54, 53, 52), PackedInt32Array(56, 55, 57), PackedInt32Array(57, 55, 58), PackedInt32Array(60, 59, 61), PackedInt32Array(61, 59, 62), PackedInt32Array(62, 59, 63), PackedInt32Array(67, 66, 64), PackedInt32Array(64, 66, 65), PackedInt32Array(71, 70, 68), PackedInt32Array(68, 70, 69), PackedInt32Array(75, 74, 72), PackedInt32Array(72, 74, 73), PackedInt32Array(78, 77, 76), PackedInt32Array(81, 80, 79), PackedInt32Array(84, 83, 82), PackedInt32Array(86, 85, 87), PackedInt32Array(87, 85, 88)]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_7nwqt"]

[sub_resource type="SphereMesh" id="SphereMesh_g1u41"]
material = SubResource("ShaderMaterial_7nwqt")

[node name="Level" type="Node3D"]
script = ExtResource("3")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("2")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("1")

[node name="GridMap" type="GridMap" parent="NavigationRegion3D"]
mesh_library = ExtResource("1")
cell_center_y = false
data = {
"cells": PackedInt32Array(0, 0, 1, 1, 0, 1, 2, 0, 1, 3, 0, 1, 4, 0, 1, 5, 0, 1, 6, 0, 1, 7, 0, 1, 8, 0, 1, 9, 0, 1, 65535, 0, 0, 0, 1, 1, 1, 1, 0, 2, 1, 0, 3, 1, 0, 4, 1, 1, 5, 1, 1, 6, 1, 1, 7, 1, 1, 8, 1, 1, 9, 1, 1, 65535, 1, 0, 0, 2, 1, 1, 2, 0, 2, 2, 0, 3, 2, 0, 4, 2, 1, 5, 2, 1, 6, 2, 1, 7, 2, 1, 8, 2, 1, 9, 2, 1, 65535, 2, 0, 0, 3, 1, 1, 3, 1, 2, 3, 1, 3, 3, 1, 4, 3, 1, 5, 3, 1, 6, 3, 1, 7, 3, 1, 8, 3, 1, 9, 3, 1, 0, 4, 1, 1, 4, 1, 2, 4, 0, 3, 4, 1, 4, 4, 1, 5, 4, 1, 6, 4, 1, 7, 4, 1, 8, 4, 1, 9, 4, 1, 0, 5, 1, 1, 5, 1, 2, 5, 1, 3, 5, 1, 4, 5, 1, 5, 5, 1, 6, 5, 1, 7, 5, 1, 8, 5, 1, 9, 5, 1, 0, 6, 1, 1, 6, 1, 2, 6, 0, 3, 6, 1, 4, 6, 1, 5, 6, 1, 6, 6, 1, 7, 6, 1, 8, 6, 1, 9, 6, 1, 0, 7, 1, 1, 7, 1, 2, 7, 1, 3, 7, 1, 4, 7, 1, 5, 7, 1, 6, 7, 1, 7, 7, 1, 8, 7, 1, 9, 7, 1, 0, 8, 1, 1, 8, 1, 2, 8, 1, 3, 8, 1, 4, 8, 1, 5, 8, 1, 6, 8, 1, 7, 8, 1, 8, 8, 1, 9, 8, 1, 0, 9, 1, 1, 9, 1, 2, 9, 1, 3, 9, 1, 4, 9, 1, 5, 9, 1, 6, 9, 1, 7, 9, 1, 8, 9, 1, 9, 9, 1, 0, 65535, 0, 1, 65535, 0, 2, 65535, 0, 65535, 65535, 0)
}

[node name="Player" parent="." instance=ExtResource("2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 11.6793, 1.05126, 18.4096)

[node name="Actor" parent="." instance=ExtResource("4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 15.3946, 1.3, 3.28321)

[node name="Sprite3D" type="Sprite3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 18.3486, 1.31739, 13.2957)
billboard = 1
shaded = true
texture = ExtResource("5_a0lsi")
hframes = 5
vframes = 2

[node name="SpotLight3D" type="SpotLight3D" parent="Sprite3D"]
transform = Transform3D(0.0274505, 0, 0.999623, 0, 1, 0, -0.999623, 0, 0.0274505, 0, 0.6, 0)
light_color = Color(1, 0, 0, 1)
light_energy = 4.0
light_volumetric_fog_energy = 50.0
shadow_enabled = true
spot_range = 15.0
spot_attenuation = 0.0426888
spot_angle = 5.0
spot_angle_attenuation = 0.0915054

[node name="MeshInstance3D" type="MeshInstance3D" parent="Sprite3D"]
mesh = SubResource("SphereMesh_g1u41")
